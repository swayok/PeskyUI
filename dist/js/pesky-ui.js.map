{"version":3,"file":"pesky-ui.js","sources":["../../src/js/ui/Sidebar.js","../../src/js/ui/PeskyUI.js","../../src/js/ui/NestedMenu.js"],"sourcesContent":["import $ from 'jquery';\n\nexport default class Sidebar {\n\n    constructor(selector, togglerSelector) {\n        this.$element = $(selector);\n        $(document.body).on('click', togglerSelector, () => {\n            this.toggle();\n            return false;\n        });\n        this.$element.on('click', '.close-sidebar', () => {\n            this.hide();\n            return false;\n        });\n    }\n\n    toggle() {\n        if (this.$element.hasClass('closed')) {\n            this.show();\n        } else {\n            this.hide();\n        }\n    }\n\n    show() {\n        this.$element.removeClass('closed').addClass('opened');\n    }\n\n    hide() {\n        this.$element.addClass('closed').removeClass('opened');\n    }\n\n}","import $ from 'jquery';\r\nimport Sidebar from \"./Sidebar\";\r\n\r\nclass PeskyUI {\r\n\r\n    static get defaultInitializers() {\r\n\r\n    }\r\n\r\n    static get defaults() {\r\n        return {\r\n            //< array of functions to call in constructor (strings - call PeskyUI methods, functions - call custom methods\r\n            initializers: PeskyUI.defaultInitializers,\r\n            leftSidebarSelector: '#left-sidebar',\r\n            leftSidebarTogglerSelector: '.sidebar-left-toggle',\r\n            rightSidebarSelector: '#right-sidebar',\r\n            rightSidebarTogglerSelector: '.sidebar-right-toggle',\r\n            headerSelector: '#app > header, #content-wrapper > header, #content > header',\r\n            footerSelector: '#app > footer, #content-wrapper > footer, #content > footer',\r\n            contentId: 'content',\r\n            contentTransitionDuration: 400\r\n        };\r\n    }\r\n\r\n    constructor(options) {\r\n        if (options && $.isPlainObject(options)) {\r\n            options = {};\r\n        }\r\n        this.options = $.extend({}, PeskyUI.defaults, options);\r\n\r\n        for (let key in this.options.initializers) {\r\n            let initializer = this.options.initializers[key];\r\n            if (typeof initializer === 'function') {\r\n                initializer.call(this);\r\n            } else {\r\n                this[initializer]();\r\n            }\r\n        }\r\n    }\r\n\r\n    getLeftSidebar() {\r\n        if (!this.leftSidebar) {\r\n            this.leftSidebar = new Sidebar(\r\n                this.options.leftSidebarSelector,\r\n                this.options.leftSidebarTogglerSelector\r\n            );\r\n        }\r\n        return this.leftSidebar;\r\n    }\r\n\r\n    initLeftSidebar() {\r\n        this.getLeftSidebar();\r\n    }\r\n\r\n    getRightSidebar() {\r\n        if (!this.rightSidebar) {\r\n            this.rightSidebar = new Sidebar(\r\n                this.options.rightSidebarSelector,\r\n                this.options.rightSidebarTogglerSelector\r\n            );\r\n        }\r\n        return this.rightSidebar;\r\n    }\r\n\r\n    initRightSidebar() {\r\n        this.getRightSidebar();\r\n    }\r\n\r\n    initSidebarNestedMenu(menuSelector) {\r\n        $(menuSelector).NestedMenu();\r\n    }\r\n\r\n    getContent() {\r\n        return $('#' + this.options.contentId);\r\n    }\r\n\r\n    showPreloader($el) {\r\n        $el.addClass('loading');\r\n    }\r\n\r\n    hidePreloader($el) {\r\n        $el.removeClass('loading');\r\n    }\r\n\r\n    switchContent(newContentJqueryPromise) {\r\n        const $oldContent = this.getContent();\r\n        this.showPreloader($oldContent);\r\n\r\n        newContentJqueryPromise\r\n            .done((newContent) => {\r\n                const $newContent = $('<div></div>')\r\n                    .append(newContent)\r\n                    .attr('id', this.options.contentId + '-new')\r\n                    .css('height', $oldContent.height());\r\n                $oldContent\r\n                    .css({\r\n                        height: $oldContent.height(),\r\n                        top: $oldContent.offset().top\r\n                    })\r\n                    .attr('id', this.options.contentId + '-old')\r\n                    .after($newContent);\r\n                setTimeout(() => {\r\n                    $oldContent.addClass('hide');\r\n                    $newContent.addClass('show');\r\n                }, 100);\r\n                setTimeout(() => {\r\n                    $oldContent.remove();\r\n                    $newContent\r\n                        .css('height', 'auto')\r\n                        .attr('id', this.options.contentId)\r\n                        .removeClass('show');\r\n                }, this.options.contentTransitionDuration + 100);\r\n            })\r\n            .fail(() => {\r\n                this.hidePreloader($oldContent);\r\n            })\r\n    }\r\n\r\n    getHeader() {\r\n        return $(this.options.headerSelector);\r\n    }\r\n\r\n    getFooter() {\r\n        return $(this.options.footerSelector);\r\n    }\r\n\r\n    uuid4() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            var r = Math.random() * 16 | 0,\r\n                v = (c === 'x' ? r : (r & 0x3 | 0x8));\r\n            return v.toString(16);\r\n        });\r\n    }\r\n\r\n}\r\n\r\n$(function () {\r\n    if (!window.PeskyUI) {\r\n        window.PeskyUI = new PeskyUI(typeof PeskyUIConfig === 'undefined' ? {} : PeskyUIConfig);\r\n    }\r\n});\r\n\r\nexport default PeskyUI;","const NestedMenu = (($) => {\r\n\r\n    const NAME = 'NestedMenu'\r\n    const DATA_KEY = 'nested-menu'\r\n    const EVENT_KEY = `.${DATA_KEY}`\r\n    const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n\r\n    const Event = {\r\n        SELECTED: `selected${EVENT_KEY}`,\r\n        EXPANDED: `expanded${EVENT_KEY}`,\r\n        COLLAPSED: `collapsed${EVENT_KEY}`,\r\n        LOAD_DATA_API: `load${EVENT_KEY}`\r\n    }\r\n\r\n    const Selector = {\r\n        LI: '.nav-item',\r\n        LINK: '.nav-link',\r\n        NESTED_MENU: '.nav-submenu',\r\n        OPEN: '.menu-open',\r\n        DATA_WIDGET: '[data-widget=\"nested-menu\"]'\r\n    }\r\n\r\n    const ClassName = {\r\n        LI: 'nav-item',\r\n        LINK: 'nav-link',\r\n        NESTED_MENU: 'nav-submenu',\r\n        OPEN: 'menu-open',\r\n    }\r\n\r\n    const Default = {\r\n        animationSpeed: 200,\r\n        accordion: true,\r\n    }\r\n\r\n    /**\r\n     * Class Definition\r\n     * ====================================================\r\n     */\r\n    class NestedMenu {\r\n        constructor(element, config) {\r\n            this._config = config\r\n            this._element = element\r\n            this.init()\r\n        }\r\n\r\n        // Public\r\n\r\n        init() {\r\n            this._setupListeners()\r\n            this._initSubmenus()\r\n        }\r\n\r\n        expand(nestedMenu, parentLi) {\r\n            const expandedEvent = $.Event(Event.EXPANDED)\r\n\r\n            if (this._config.accordion) {\r\n                const openMenuLi = parentLi.siblings(Selector.OPEN).first()\r\n                const openNestedMenu = openMenuLi.find(Selector.NESTED_MENU).first()\r\n                this.collapse(openNestedMenu, openMenuLi)\r\n            }\r\n\r\n            parentLi.addClass(ClassName.OPEN)\r\n            nestedMenu.stop().slideDown(this._config.animationSpeed, () => {\r\n                $(this._element).trigger(expandedEvent)\r\n            })\r\n\r\n        }\r\n\r\n        collapse(nestedMenu, parentLi) {\r\n            const collapsedEvent = $.Event(Event.COLLAPSED)\r\n\r\n            parentLi.removeClass(ClassName.OPEN)\r\n            nestedMenu.stop().slideUp(this._config.animationSpeed, () => {\r\n                $(this._element).trigger(collapsedEvent)\r\n                nestedMenu.find(`${Selector.OPEN} > ${Selector.NESTED_MENU}`).slideUp()\r\n                nestedMenu.find(Selector.OPEN).removeClass(ClassName.OPEN)\r\n            })\r\n        }\r\n\r\n        toggle(event) {\r\n\r\n            const $relativeTarget = $(event.currentTarget)\r\n            const $parent = $relativeTarget.parent()\r\n\r\n            let nestedMenu = $parent.find('> ' + Selector.NESTED_MENU)\r\n\r\n            if (!nestedMenu.is(Selector.NESTED_MENU)) {\r\n\r\n                if (!$parent.is(Selector.LI)) {\r\n                    nestedMenu = $parent.parent().find('> ' + Selector.NESTED_MENU)\r\n                }\r\n\r\n                if (!nestedMenu.is(Selector.NESTED_MENU)) {\r\n                    return\r\n                }\r\n            }\r\n\r\n            event.preventDefault()\r\n\r\n            const parentLi = $relativeTarget.parents(Selector.LI).first()\r\n            const isOpen = parentLi.hasClass(ClassName.OPEN)\r\n\r\n            if (isOpen) {\r\n                this.collapse($(nestedMenu), parentLi)\r\n            } else {\r\n                this.expand($(nestedMenu), parentLi)\r\n            }\r\n        }\r\n\r\n        // Private\r\n\r\n        _setupListeners() {\r\n            $(this._element).on('click', Selector.LINK, (event) => {\r\n                this.toggle(event)\r\n            })\r\n        }\r\n\r\n        _initSubmenus() {\r\n            this._element.find(Selector.NESTED_MENU).slideUp();\r\n            this._element.find(Selector.LI + Selector.OPEN).each((i, el) => {\r\n                let $li = $(el);\r\n                let $nestedMenu = $li.find('> ' + Selector.NESTED_MENU);\r\n                let $parentLi = $li.find('> ' + Selector.LINK).parents(Selector.LI).first();\r\n                this.expand($nestedMenu, $parentLi);\r\n            });\r\n        }\r\n\r\n        // Static\r\n\r\n        static _jQueryInterface(config) {\r\n            return this.each(function () {\r\n                let data = $(this).data(DATA_KEY)\r\n                const _options = $.extend({}, Default, $(this).data())\r\n\r\n                if (!data) {\r\n                    data = new NestedMenu($(this), _options)\r\n                    $(this).data(DATA_KEY, data)\r\n                }\r\n\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * jQuery API\r\n     * ====================================================\r\n     */\r\n\r\n    $.fn[NAME] = NestedMenu._jQueryInterface\r\n    $.fn[NAME].Constructor = NestedMenu\r\n    $.fn[NAME].noConflict = function () {\r\n        $.fn[NAME] = JQUERY_NO_CONFLICT\r\n        return NestedMenu._jQueryInterface\r\n    }\r\n\r\n    return NestedMenu\r\n})(jQuery)\r\n\r\nexport default NestedMenu\r\n"],"names":["Sidebar","constructor","selector","togglerSelector","$element","$","document","body","on","toggle","hide","hasClass","show","removeClass","addClass","PeskyUI","defaultInitializers","defaults","initializers","leftSidebarSelector","leftSidebarTogglerSelector","rightSidebarSelector","rightSidebarTogglerSelector","headerSelector","footerSelector","contentId","contentTransitionDuration","options","isPlainObject","extend","key","initializer","call","getLeftSidebar","leftSidebar","initLeftSidebar","getRightSidebar","rightSidebar","initRightSidebar","initSidebarNestedMenu","menuSelector","NestedMenu","getContent","showPreloader","$el","hidePreloader","switchContent","newContentJqueryPromise","$oldContent","done","newContent","$newContent","append","attr","css","height","top","offset","after","setTimeout","remove","fail","getHeader","getFooter","uuid4","replace","c","r","Math","random","v","toString","window","PeskyUIConfig","NAME","DATA_KEY","EVENT_KEY","JQUERY_NO_CONFLICT","fn","Event","SELECTED","EXPANDED","COLLAPSED","LOAD_DATA_API","Selector","LI","LINK","NESTED_MENU","OPEN","DATA_WIDGET","ClassName","Default","animationSpeed","accordion","element","config","_config","_element","init","_setupListeners","_initSubmenus","expand","nestedMenu","parentLi","expandedEvent","openMenuLi","siblings","first","openNestedMenu","find","collapse","stop","slideDown","trigger","collapsedEvent","slideUp","event","$relativeTarget","currentTarget","$parent","parent","is","preventDefault","parents","isOpen","each","i","el","$li","$nestedMenu","$parentLi","_jQueryInterface","data","_options","Constructor","noConflict","jQuery"],"mappings":"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"}